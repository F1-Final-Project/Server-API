const router = require('express').Router();const User = require('db-worker/lib/models/user');router.route('/')    .post(function (req, res) {        const {email, password} = req.body;        User.findOne({email}, function (err, user) {            if (err) {                res.status(500).json({error: 'Internal error ["/auth": findOne]'});            } else if (!user) {                res.status(401).json({error: 'Invalid email'});            } else {                user.isCorrectPassword(password, function (err, same) {                    if (err) {                        res.status(500).json({                            error: 'Internal error ["/auth": isCorrectPassword]'                        });                    } else if (!same) {                        res.status(401).json({error: 'Invalid password'});                    } else {                        res.json(user.toAuthJSON());                    }                });            }        });    });module.exports = router;